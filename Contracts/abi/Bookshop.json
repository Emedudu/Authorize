{"address":"0x02c1955BE21CCeA792a8f9499971c7aE0824Aa54","abi":[{"inputs":[{"internalType":"address","name":"book","type":"address"},{"internalType":"address","name":"key","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"uint256","name":"bookId","type":"uint256"}],"name":"BookPublished","type":"event"},{"inputs":[],"name":"_book","outputs":[{"internalType":"contract Book","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_key","outputs":[{"internalType":"contract Key","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"bookIdToOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"setFeePercentage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user1","type":"address"},{"internalType":"address","name":"user2","type":"address"}],"name":"swapKeys","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"bookId","type":"uint256"},{"internalType":"uint256","name":"purchasePrice","type":"uint256"},{"internalType":"uint256","name":"rentPrice","type":"uint256"}],"name":"uploadBook","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"bookId","type":"uint256"}],"name":"withdrawProfit","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x60c060405234801561001057600080fd5b50604051610e91380380610e9183398181016040528101906100329190610104565b8173ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508073ffffffffffffffffffffffffffffffffffffffff1660a08173ffffffffffffffffffffffffffffffffffffffff16815250505050610144565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100d1826100a6565b9050919050565b6100e1816100c6565b81146100ec57600080fd5b50565b6000815190506100fe816100d8565b92915050565b6000806040838503121561011b5761011a6100a1565b5b6000610129858286016100ef565b925050602061013a858286016100ef565b9150509250929050565b60805160a051610ce96101a8600039600081816101a701528181610245015281816102e101528181610370015281816103ff0152818161048c015261052101526000818161018101528181610545015281816105d401526107a20152610ce96000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c806373e733a01161005b57806373e733a0146100ec57806374ad7ac4146100f6578063815092d714610114578063d82a2bea146101305761007d565b80631464845d1461008257806352028be3146100b257806363cb1534146100d0575b600080fd5b61009c600480360381019061009791906108d2565b61014c565b6040516100a99190610940565b60405180910390f35b6100ba61017f565b6040516100c791906109ba565b60405180910390f35b6100ea60048036038101906100e59190610a01565b6101a3565b005b6100f461051d565b005b6100fe61051f565b60405161010b9190610a62565b60405180910390f35b61012e60048036038101906101299190610a7d565b610543565b005b61014a600480360381019061014591906108d2565b6106fb565b005b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b7f000000000000000000000000000000000000000000000000000000000000000081565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b81526004016101fe9190610940565b602060405180830381865afa15801561021b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023f9190610ae5565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b815260040161029c9190610940565b602060405180830381865afa1580156102b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102dd9190610ae5565b90507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8585856040518463ffffffff1660e01b815260040161033c93929190610b21565b600060405180830381600087803b15801561035657600080fd5b505af115801561036a573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8486846040518463ffffffff1660e01b81526004016103cb93929190610b21565b600060405180830381600087803b1580156103e557600080fd5b505af11580156103f9573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07685836040518363ffffffff1660e01b8152600401610458929190610b58565b600060405180830381600087803b15801561047257600080fd5b505af1158015610486573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07684846040518363ffffffff1660e01b81526004016104e5929190610b58565b600060405180830381600087803b1580156104ff57600080fd5b505af1158015610513573d6000803e3d6000fd5b5050505050505050565b565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166304ed59178484846040518463ffffffff1660e01b81526004016105a093929190610b81565b600060405180830381600087803b1580156105ba57600080fd5b505af11580156105ce573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e3330866040518463ffffffff1660e01b815260040161062f93929190610b21565b600060405180830381600087803b15801561064957600080fd5b505af115801561065d573d6000803e3d6000fd5b505050503360008085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550823373ffffffffffffffffffffffffffffffffffffffff167ff2a9613cbcef99207cc3c0eba3b844561d4be3a300f6710f5ea4623ae599789a60405160405180910390a3505050565b3373ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461079b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161079290610c15565b60405180910390fd5b60004790507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d82a2bea836040518263ffffffff1660e01b81526004016107f99190610c35565b600060405180830381600087803b15801561081357600080fd5b505af1158015610827573d6000803e3d6000fd5b5050505060004790506000828261083e9190610c7f565b90506000811115610891573373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561088f573d6000803e3d6000fd5b505b50505050565b600080fd5b6000819050919050565b6108af8161089c565b81146108ba57600080fd5b50565b6000813590506108cc816108a6565b92915050565b6000602082840312156108e8576108e7610897565b5b60006108f6848285016108bd565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061092a826108ff565b9050919050565b61093a8161091f565b82525050565b60006020820190506109556000830184610931565b92915050565b6000819050919050565b600061098061097b610976846108ff565b61095b565b6108ff565b9050919050565b600061099282610965565b9050919050565b60006109a482610987565b9050919050565b6109b481610999565b82525050565b60006020820190506109cf60008301846109ab565b92915050565b6109de8161091f565b81146109e957600080fd5b50565b6000813590506109fb816109d5565b92915050565b60008060408385031215610a1857610a17610897565b5b6000610a26858286016109ec565b9250506020610a37858286016109ec565b9150509250929050565b6000610a4c82610987565b9050919050565b610a5c81610a41565b82525050565b6000602082019050610a776000830184610a53565b92915050565b600080600060608486031215610a9657610a95610897565b5b6000610aa4868287016108bd565b9350506020610ab5868287016108bd565b9250506040610ac6868287016108bd565b9150509250925092565b600081519050610adf816108a6565b92915050565b600060208284031215610afb57610afa610897565b5b6000610b0984828501610ad0565b91505092915050565b610b1b8161089c565b82525050565b6000606082019050610b366000830186610931565b610b436020830185610931565b610b506040830184610b12565b949350505050565b6000604082019050610b6d6000830185610931565b610b7a6020830184610b12565b9392505050565b6000606082019050610b966000830186610b12565b610ba36020830185610b12565b610bb06040830184610b12565b949350505050565b600082825260208201905092915050565b7f4e6f7420626f6f6b206f776e6572000000000000000000000000000000000000600082015250565b6000610bff600e83610bb8565b9150610c0a82610bc9565b602082019050919050565b60006020820190508181036000830152610c2e81610bf2565b9050919050565b6000602082019050610c4a6000830184610b12565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610c8a8261089c565b9150610c958361089c565b9250828203905081811115610cad57610cac610c50565b5b9291505056fea26469706673582212203d4d1d4699cf0f2e834602c6862fe7931c28ec7a803613bfb892d87ebc17b85e64736f6c63430008110033","deployedBytecode":"0x608060405234801561001057600080fd5b506004361061007d5760003560e01c806373e733a01161005b57806373e733a0146100ec57806374ad7ac4146100f6578063815092d714610114578063d82a2bea146101305761007d565b80631464845d1461008257806352028be3146100b257806363cb1534146100d0575b600080fd5b61009c600480360381019061009791906108d2565b61014c565b6040516100a99190610940565b60405180910390f35b6100ba61017f565b6040516100c791906109ba565b60405180910390f35b6100ea60048036038101906100e59190610a01565b6101a3565b005b6100f461051d565b005b6100fe61051f565b60405161010b9190610a62565b60405180910390f35b61012e60048036038101906101299190610a7d565b610543565b005b61014a600480360381019061014591906108d2565b6106fb565b005b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b7f000000000000000000000000000000000000000000000000000000000000000081565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b81526004016101fe9190610940565b602060405180830381865afa15801561021b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023f9190610ae5565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b815260040161029c9190610940565b602060405180830381865afa1580156102b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102dd9190610ae5565b90507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8585856040518463ffffffff1660e01b815260040161033c93929190610b21565b600060405180830381600087803b15801561035657600080fd5b505af115801561036a573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8486846040518463ffffffff1660e01b81526004016103cb93929190610b21565b600060405180830381600087803b1580156103e557600080fd5b505af11580156103f9573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07685836040518363ffffffff1660e01b8152600401610458929190610b58565b600060405180830381600087803b15801561047257600080fd5b505af1158015610486573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07684846040518363ffffffff1660e01b81526004016104e5929190610b58565b600060405180830381600087803b1580156104ff57600080fd5b505af1158015610513573d6000803e3d6000fd5b5050505050505050565b565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166304ed59178484846040518463ffffffff1660e01b81526004016105a093929190610b81565b600060405180830381600087803b1580156105ba57600080fd5b505af11580156105ce573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e3330866040518463ffffffff1660e01b815260040161062f93929190610b21565b600060405180830381600087803b15801561064957600080fd5b505af115801561065d573d6000803e3d6000fd5b505050503360008085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550823373ffffffffffffffffffffffffffffffffffffffff167ff2a9613cbcef99207cc3c0eba3b844561d4be3a300f6710f5ea4623ae599789a60405160405180910390a3505050565b3373ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461079b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161079290610c15565b60405180910390fd5b60004790507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d82a2bea836040518263ffffffff1660e01b81526004016107f99190610c35565b600060405180830381600087803b15801561081357600080fd5b505af1158015610827573d6000803e3d6000fd5b5050505060004790506000828261083e9190610c7f565b90506000811115610891573373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561088f573d6000803e3d6000fd5b505b50505050565b600080fd5b6000819050919050565b6108af8161089c565b81146108ba57600080fd5b50565b6000813590506108cc816108a6565b92915050565b6000602082840312156108e8576108e7610897565b5b60006108f6848285016108bd565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061092a826108ff565b9050919050565b61093a8161091f565b82525050565b60006020820190506109556000830184610931565b92915050565b6000819050919050565b600061098061097b610976846108ff565b61095b565b6108ff565b9050919050565b600061099282610965565b9050919050565b60006109a482610987565b9050919050565b6109b481610999565b82525050565b60006020820190506109cf60008301846109ab565b92915050565b6109de8161091f565b81146109e957600080fd5b50565b6000813590506109fb816109d5565b92915050565b60008060408385031215610a1857610a17610897565b5b6000610a26858286016109ec565b9250506020610a37858286016109ec565b9150509250929050565b6000610a4c82610987565b9050919050565b610a5c81610a41565b82525050565b6000602082019050610a776000830184610a53565b92915050565b600080600060608486031215610a9657610a95610897565b5b6000610aa4868287016108bd565b9350506020610ab5868287016108bd565b9250506040610ac6868287016108bd565b9150509250925092565b600081519050610adf816108a6565b92915050565b600060208284031215610afb57610afa610897565b5b6000610b0984828501610ad0565b91505092915050565b610b1b8161089c565b82525050565b6000606082019050610b366000830186610931565b610b436020830185610931565b610b506040830184610b12565b949350505050565b6000604082019050610b6d6000830185610931565b610b7a6020830184610b12565b9392505050565b6000606082019050610b966000830186610b12565b610ba36020830185610b12565b610bb06040830184610b12565b949350505050565b600082825260208201905092915050565b7f4e6f7420626f6f6b206f776e6572000000000000000000000000000000000000600082015250565b6000610bff600e83610bb8565b9150610c0a82610bc9565b602082019050919050565b60006020820190508181036000830152610c2e81610bf2565b9050919050565b6000602082019050610c4a6000830184610b12565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610c8a8261089c565b9150610c958361089c565b9250828203905081811115610cad57610cac610c50565b5b9291505056fea26469706673582212203d4d1d4699cf0f2e834602c6862fe7931c28ec7a803613bfb892d87ebc17b85e64736f6c63430008110033"}