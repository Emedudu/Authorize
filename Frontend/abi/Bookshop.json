{
  "address": "0x91bD8d0fD4bdBa4b42660891c3C3d2B637D7A577",
  "abi": [
    {
      "inputs": [
        { "internalType": "address", "name": "book", "type": "address" },
        { "internalType": "address", "name": "key", "type": "address" }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "bookId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "purchasePrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "rentPrice",
          "type": "uint256"
        }
      ],
      "name": "BookPublished",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "_book",
      "outputs": [
        { "internalType": "contract Book", "name": "", "type": "address" }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "_key",
      "outputs": [
        { "internalType": "contract Key", "name": "", "type": "address" }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }],
      "name": "bookIdToOwner",
      "outputs": [{ "internalType": "address", "name": "", "type": "address" }],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "setFeePercentage",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        { "internalType": "address", "name": "user1", "type": "address" },
        { "internalType": "address", "name": "user2", "type": "address" }
      ],
      "name": "swapKeys",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        { "internalType": "uint256", "name": "bookId", "type": "uint256" },
        {
          "internalType": "uint256",
          "name": "purchasePrice",
          "type": "uint256"
        },
        { "internalType": "uint256", "name": "rentPrice", "type": "uint256" }
      ],
      "name": "uploadBook",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        { "internalType": "uint256", "name": "bookId", "type": "uint256" }
      ],
      "name": "withdrawProfit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b50604051610e1a380380610e1a83398181016040528101906100329190610104565b8173ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508073ffffffffffffffffffffffffffffffffffffffff1660a08173ffffffffffffffffffffffffffffffffffffffff16815250505050610144565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006100d1826100a6565b9050919050565b6100e1816100c6565b81146100ec57600080fd5b50565b6000815190506100fe816100d8565b92915050565b6000806040838503121561011b5761011a6100a1565b5b6000610129858286016100ef565b925050602061013a858286016100ef565b9150509250929050565b60805160a051610c796101a1600039600081816101a701528181610245015281816102e101528181610370015281816103ff0152818161048c01526105210152600081816101810152818161054501526107090152610c796000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c806373e733a01161005b57806373e733a0146100ec57806374ad7ac4146100f6578063815092d714610114578063d82a2bea146101305761007d565b80631464845d1461008257806352028be3146100b257806363cb1534146100d0575b600080fd5b61009c60048036038101906100979190610839565b61014c565b6040516100a991906108a7565b60405180910390f35b6100ba61017f565b6040516100c79190610921565b60405180910390f35b6100ea60048036038101906100e59190610968565b6101a3565b005b6100f461051d565b005b6100fe61051f565b60405161010b91906109c9565b60405180910390f35b61012e600480360381019061012991906109e4565b610543565b005b61014a60048036038101906101459190610839565b610662565b005b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b7f000000000000000000000000000000000000000000000000000000000000000081565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b81526004016101fe91906108a7565b602060405180830381865afa15801561021b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023f9190610a4c565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b815260040161029c91906108a7565b602060405180830381865afa1580156102b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102dd9190610a4c565b90507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8585856040518463ffffffff1660e01b815260040161033c93929190610a88565b600060405180830381600087803b15801561035657600080fd5b505af115801561036a573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8486846040518463ffffffff1660e01b81526004016103cb93929190610a88565b600060405180830381600087803b1580156103e557600080fd5b505af11580156103f9573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07685836040518363ffffffff1660e01b8152600401610458929190610abf565b600060405180830381600087803b15801561047257600080fd5b505af1158015610486573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07684846040518363ffffffff1660e01b81526004016104e5929190610abf565b600060405180830381600087803b1580156104ff57600080fd5b505af1158015610513573d6000803e3d6000fd5b5050505050505050565b565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166304ed59178484846040518463ffffffff1660e01b81526004016105a093929190610ae8565b600060405180830381600087803b1580156105ba57600080fd5b505af11580156105ce573d6000803e3d6000fd5b505050503360008085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550827f204930f3db2bb7f6984c024cf2a93710045c72024ec59bff7d4e63b2409c841e8383604051610655929190610b1f565b60405180910390a2505050565b3373ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610702576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106f990610ba5565b60405180910390fd5b60004790507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d82a2bea836040518263ffffffff1660e01b81526004016107609190610bc5565b600060405180830381600087803b15801561077a57600080fd5b505af115801561078e573d6000803e3d6000fd5b505050506000479050600082826107a59190610c0f565b905060008111156107f8573373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501580156107f6573d6000803e3d6000fd5b505b50505050565b600080fd5b6000819050919050565b61081681610803565b811461082157600080fd5b50565b6000813590506108338161080d565b92915050565b60006020828403121561084f5761084e6107fe565b5b600061085d84828501610824565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061089182610866565b9050919050565b6108a181610886565b82525050565b60006020820190506108bc6000830184610898565b92915050565b6000819050919050565b60006108e76108e26108dd84610866565b6108c2565b610866565b9050919050565b60006108f9826108cc565b9050919050565b600061090b826108ee565b9050919050565b61091b81610900565b82525050565b60006020820190506109366000830184610912565b92915050565b61094581610886565b811461095057600080fd5b50565b6000813590506109628161093c565b92915050565b6000806040838503121561097f5761097e6107fe565b5b600061098d85828601610953565b925050602061099e85828601610953565b9150509250929050565b60006109b3826108ee565b9050919050565b6109c3816109a8565b82525050565b60006020820190506109de60008301846109ba565b92915050565b6000806000606084860312156109fd576109fc6107fe565b5b6000610a0b86828701610824565b9350506020610a1c86828701610824565b9250506040610a2d86828701610824565b9150509250925092565b600081519050610a468161080d565b92915050565b600060208284031215610a6257610a616107fe565b5b6000610a7084828501610a37565b91505092915050565b610a8281610803565b82525050565b6000606082019050610a9d6000830186610898565b610aaa6020830185610898565b610ab76040830184610a79565b949350505050565b6000604082019050610ad46000830185610898565b610ae16020830184610a79565b9392505050565b6000606082019050610afd6000830186610a79565b610b0a6020830185610a79565b610b176040830184610a79565b949350505050565b6000604082019050610b346000830185610a79565b610b416020830184610a79565b9392505050565b600082825260208201905092915050565b7f4e6f7420626f6f6b206f776e6572000000000000000000000000000000000000600082015250565b6000610b8f600e83610b48565b9150610b9a82610b59565b602082019050919050565b60006020820190508181036000830152610bbe81610b82565b9050919050565b6000602082019050610bda6000830184610a79565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610c1a82610803565b9150610c2583610803565b9250828203905081811115610c3d57610c3c610be0565b5b9291505056fea26469706673582212205db7dac4b1790944a6517435d0c0d31e3f61dcf64fea80904f09cc4edec1df4f64736f6c63430008110033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c806373e733a01161005b57806373e733a0146100ec57806374ad7ac4146100f6578063815092d714610114578063d82a2bea146101305761007d565b80631464845d1461008257806352028be3146100b257806363cb1534146100d0575b600080fd5b61009c60048036038101906100979190610839565b61014c565b6040516100a991906108a7565b60405180910390f35b6100ba61017f565b6040516100c79190610921565b60405180910390f35b6100ea60048036038101906100e59190610968565b6101a3565b005b6100f461051d565b005b6100fe61051f565b60405161010b91906109c9565b60405180910390f35b61012e600480360381019061012991906109e4565b610543565b005b61014a60048036038101906101459190610839565b610662565b005b60006020528060005260406000206000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b7f000000000000000000000000000000000000000000000000000000000000000081565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b81526004016101fe91906108a7565b602060405180830381865afa15801561021b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023f9190610a4c565b905060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663745c84ca846040518263ffffffff1660e01b815260040161029c91906108a7565b602060405180830381865afa1580156102b9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102dd9190610a4c565b90507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8585856040518463ffffffff1660e01b815260040161033c93929190610a88565b600060405180830381600087803b15801561035657600080fd5b505af115801561036a573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166342842e0e8486846040518463ffffffff1660e01b81526004016103cb93929190610a88565b600060405180830381600087803b1580156103e557600080fd5b505af11580156103f9573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07685836040518363ffffffff1660e01b8152600401610458929190610abf565b600060405180830381600087803b15801561047257600080fd5b505af1158015610486573d6000803e3d6000fd5b505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16635290a07684846040518363ffffffff1660e01b81526004016104e5929190610abf565b600060405180830381600087803b1580156104ff57600080fd5b505af1158015610513573d6000803e3d6000fd5b5050505050505050565b565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166304ed59178484846040518463ffffffff1660e01b81526004016105a093929190610ae8565b600060405180830381600087803b1580156105ba57600080fd5b505af11580156105ce573d6000803e3d6000fd5b505050503360008085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550827f204930f3db2bb7f6984c024cf2a93710045c72024ec59bff7d4e63b2409c841e8383604051610655929190610b1f565b60405180910390a2505050565b3373ffffffffffffffffffffffffffffffffffffffff1660008083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610702576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106f990610ba5565b60405180910390fd5b60004790507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d82a2bea836040518263ffffffff1660e01b81526004016107609190610bc5565b600060405180830381600087803b15801561077a57600080fd5b505af115801561078e573d6000803e3d6000fd5b505050506000479050600082826107a59190610c0f565b905060008111156107f8573373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501580156107f6573d6000803e3d6000fd5b505b50505050565b600080fd5b6000819050919050565b61081681610803565b811461082157600080fd5b50565b6000813590506108338161080d565b92915050565b60006020828403121561084f5761084e6107fe565b5b600061085d84828501610824565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061089182610866565b9050919050565b6108a181610886565b82525050565b60006020820190506108bc6000830184610898565b92915050565b6000819050919050565b60006108e76108e26108dd84610866565b6108c2565b610866565b9050919050565b60006108f9826108cc565b9050919050565b600061090b826108ee565b9050919050565b61091b81610900565b82525050565b60006020820190506109366000830184610912565b92915050565b61094581610886565b811461095057600080fd5b50565b6000813590506109628161093c565b92915050565b6000806040838503121561097f5761097e6107fe565b5b600061098d85828601610953565b925050602061099e85828601610953565b9150509250929050565b60006109b3826108ee565b9050919050565b6109c3816109a8565b82525050565b60006020820190506109de60008301846109ba565b92915050565b6000806000606084860312156109fd576109fc6107fe565b5b6000610a0b86828701610824565b9350506020610a1c86828701610824565b9250506040610a2d86828701610824565b9150509250925092565b600081519050610a468161080d565b92915050565b600060208284031215610a6257610a616107fe565b5b6000610a7084828501610a37565b91505092915050565b610a8281610803565b82525050565b6000606082019050610a9d6000830186610898565b610aaa6020830185610898565b610ab76040830184610a79565b949350505050565b6000604082019050610ad46000830185610898565b610ae16020830184610a79565b9392505050565b6000606082019050610afd6000830186610a79565b610b0a6020830185610a79565b610b176040830184610a79565b949350505050565b6000604082019050610b346000830185610a79565b610b416020830184610a79565b9392505050565b600082825260208201905092915050565b7f4e6f7420626f6f6b206f776e6572000000000000000000000000000000000000600082015250565b6000610b8f600e83610b48565b9150610b9a82610b59565b602082019050919050565b60006020820190508181036000830152610bbe81610b82565b9050919050565b6000602082019050610bda6000830184610a79565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610c1a82610803565b9150610c2583610803565b9250828203905081811115610c3d57610c3c610be0565b5b9291505056fea26469706673582212205db7dac4b1790944a6517435d0c0d31e3f61dcf64fea80904f09cc4edec1df4f64736f6c63430008110033"
}
